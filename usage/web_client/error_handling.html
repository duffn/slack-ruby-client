<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/slack-ruby-client/assets/css/just-the-docs-default.css"> <script src="/slack-ruby-client/assets/js/vendor/lunr.min.js"></script> <script src="/slack-ruby-client/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/slack-ruby-client/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Error Handling | slack-ruby-client</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Error Handling" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A Ruby and command-line client for the Slack Web, Real Time Messaging and Event APIs." /> <meta property="og:description" content="A Ruby and command-line client for the Slack Web, Real Time Messaging and Event APIs." /> <link rel="canonical" href="https://slack-ruby.github.io/slack-ruby-client/slack-ruby-client/usage/web_client/error_handling.html" /> <meta property="og:url" content="https://slack-ruby.github.io/slack-ruby-client/slack-ruby-client/usage/web_client/error_handling.html" /> <meta property="og:site_name" content="slack-ruby-client" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Error Handling" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A Ruby and command-line client for the Slack Web, Real Time Messaging and Event APIs.","headline":"Error Handling","url":"https://slack-ruby.github.io/slack-ruby-client/slack-ruby-client/usage/web_client/error_handling.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/slack-ruby-client/" class="site-title lh-tight"> slack-ruby-client </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/slack-ruby-client/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Usage category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/slack-ruby-client/usage/usage.html" class="nav-list-link">Usage</a><ul class="nav-list"><li class="nav-list-item "><a href="/slack-ruby-client/usage/configuration.html" class="nav-list-link">Configuration</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Web Client category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/slack-ruby-client/usage/web_client/web_client.html" class="nav-list-link">Web Client</a><ul class="nav-list"><li class="nav-list-item "> <a href="/slack-ruby-client/usage/web_client/examples.html" class="nav-list-link">Examples</a> </li><li class="nav-list-item "> <a href="/slack-ruby-client/usage/web_client/options.html" class="nav-list-link">Options</a> </li><li class="nav-list-item "> <a href="/slack-ruby-client/usage/web_client/pagination.html" class="nav-list-link">Pagination</a> </li><li class="nav-list-item "> <a href="/slack-ruby-client/usage/web_client/character_encoding.html" class="nav-list-link">Character Encoding</a> </li><li class="nav-list-item active"> <a href="/slack-ruby-client/usage/web_client/error_handling.html" class="nav-list-link active">Error Handling</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in RealTime Client category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/slack-ruby-client/usage/realtime_client/realtime_client.html" class="nav-list-link">RealTime Client</a><ul class="nav-list"><li class="nav-list-item "> <a href="/slack-ruby-client/usage/realtime_client/configuration.html" class="nav-list-link">Configuration</a> </li><li class="nav-list-item "> <a href="/slack-ruby-client/usage/realtime_client/store.html" class="nav-list-link">Store</a> </li><li class="nav-list-item "> <a href="/slack-ruby-client/usage/realtime_client/combining_realtime_and_web.html" class="nav-list-link">Combining RealTime and Web Clients</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Events API category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/slack-ruby-client/usage/events/events_api.html" class="nav-list-link">Events API</a><ul class="nav-list"><li class="nav-list-item "> <a href="/slack-ruby-client/usage/events/configuration.html" class="nav-list-link">Configuration</a> </li><li class="nav-list-item "> <a href="/slack-ruby-client/usage/events/verifying_the_request_signature.html" class="nav-list-link">Verifying the Request Signature</a> </li></ul></li><li class="nav-list-item "><a href="/slack-ruby-client/usage/message_parsing.html" class="nav-list-link">Message Parsing</a></li><li class="nav-list-item "><a href="/slack-ruby-client/usage/command_line_client.html" class="nav-list-link">Command Line Client</a></li></ul></li><li class="nav-list-item"><a href="/slack-ruby-client/enterprise_support.html" class="nav-list-link">Enterprise Support</a></li><li class="nav-list-item"><a href="/slack-ruby-client/versions.html" class="nav-list-link">Versions</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search slack-ruby-client" aria-label="Search slack-ruby-client" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/slack-ruby/slack-ruby-client" class="site-button" > GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/slack-ruby-client/usage/usage.html">Usage</a></li> <li class="breadcrumb-nav-list-item"><a href="/slack-ruby-client/usage/web_client/web_client.html">Web Client</a></li> <li class="breadcrumb-nav-list-item"><span>Error Handling</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="error-handling"> <a href="#error-handling" class="anchor-heading" aria-labelledby="error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling </h1> <h2 id="slack-errors"> <a href="#slack-errors" class="anchor-heading" aria-labelledby="slack-errors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Slack Errors </h2> <p>If Slack returns an error for the request, then an error will be raised. The error class is specific to the type of error that Slack returns. For instance if Slack returns <code class="language-plaintext highlighter-rouge">account_inactive</code> then the error will be <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::AccountInactive</code>. This allows you to handle certain types of errors as needed:</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">rescue</span> <span class="no">Slack</span><span class="o">::</span><span class="no">Web</span><span class="o">::</span><span class="no">Api</span><span class="o">::</span><span class="no">Errors</span><span class="o">::</span><span class="no">AccountInactive</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="c1"># deal with inactive account</span>
<span class="k">end</span>
</code></pre></div></div> <p>All of these errors inherit from <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::SlackError</code>, so you can handle or silence all errors if necessary:</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">rescue</span> <span class="no">Slack</span><span class="o">::</span><span class="no">Web</span><span class="o">::</span><span class="no">Api</span><span class="o">::</span><span class="no">Errors</span><span class="o">::</span><span class="no">SlackError</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="c1"># capture all Slack errors</span>
<span class="k">end</span>
</code></pre></div></div> <p>If there’s a new error type that is not yet known by this library, then it will raise <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::SlackError</code>. (Update the Web API if you find that errors are missing — see <a href="https://github.com/slack-ruby/slack-ruby-client/tree/master/CONTRIBUTING.md">CONTRIBUTING</a>.)</p> <p>In all of these cases the error message contains the error code, which is also accessible with <code class="language-plaintext highlighter-rouge">slack_error.error</code>. In case of multiple errors, the error message contains the error codes separated by commas, or they are accessible as an array with <code class="language-plaintext highlighter-rouge">slack_error.errors</code>. The original response is also accessible using the <code class="language-plaintext highlighter-rouge">response</code> attribute. The <code class="language-plaintext highlighter-rouge">response_metadata</code> is accessible with <code class="language-plaintext highlighter-rouge">slack_error.response_metadata</code>.</p> <h2 id="rate-limiting"> <a href="#rate-limiting" class="anchor-heading" aria-labelledby="rate-limiting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rate Limiting </h2> <p>If you exceed <a href="https://api.slack.com/docs/rate-limits">Slack’s rate limits</a>, a <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::TooManyRequestsError</code> will be raised instead. (This does not inherit from <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::SlackError</code>.)</p> <h2 id="other-errors"> <a href="#other-errors" class="anchor-heading" aria-labelledby="other-errors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Other Errors </h2> <p>When Slack is temporarily unavailable a subclass of <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::ServerError</code> will be raised and the original <code class="language-plaintext highlighter-rouge">Faraday::Error</code> will be accesible via <code class="language-plaintext highlighter-rouge">exception.cause</code>. (Starting with 0.18.0 this is no longer a subclass of <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::SlackError</code>.)</p> <p>Specifically <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::ParsingError</code> will be raised on non-json response (i.e. 200 OK with <code class="language-plaintext highlighter-rouge">Slack unavailable</code> HTML page) and <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::HttpRequestError</code> subclasses for connection failures (<code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::TimeoutError</code> for read/open timeouts &amp; <code class="language-plaintext highlighter-rouge">Slack::Web::Api::Errors::UnavailableError</code> for 5xx HTTP responses).</p> <p>In any other case, a <code class="language-plaintext highlighter-rouge">Faraday::ClientError</code> will be raised.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
